<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>Kanalyzer</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="apple-touch-icon" href="apple-touch-icon.png">
        <!-- Place favicon.ico in the root directory -->

        <link rel="stylesheet" href="css/normalize.css">
        <link rel="stylesheet" href="css/main.css">
        <script src="js/vendor/modernizr-2.8.3.min.js"></script>
		<script type="text/javascript" src="js/d3js/d3.js"></script>
    </head>
    <body>
        <!--[if lt IE 8]>
            <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->

        <p id="par1">Hello and welcome to Kanalyzer.</p>
		
		<input type="button" id="select-button" value="Select Input Data">
		<input type="file" name="data-file" id="data-file">
		
		<!-- Fetch jQuery lib, plugins, main -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.11.3.min.js"><\/script>')</script>
        <script src="js/plugins.js"></script>
        <script src="js/main.js"></script>
		
		<!-- Select button functionality -->
		<script>
		$('#select-button').click(function(){
			$('#data-file').click();
		});
		</script>
		
		<!-- Hardcoded source data
		TODO: Convert excel/ods data to POJOs in this format. 
		-->
		<script>
			var numbers = [ 5, 4, 10, 1 ],
				data = [
				  { date: '2014-01-01', amount: 10 },
				  { date: '2014-02-01', amount: 20 },
				  { date: '2014-03-01', amount: 40 },
				  { date: '2014-04-01', amount: 80 }
				];
			d3.min(numbers);
			d3.max(data, function(d, i) { return d.amount });
			d3.extent(numbers);
		</script>
		
		<!-- Create d3 graph from source data -->
		<script>
			var y = d3.scale.linear()
					  .domain([0, 80])	// $0 to $80
					  .range([200, 0]);	// Backwards because SVG is y-down
			
			var x = d3.time.scale()
					  .domain([
						new Date(Date.parse('2014-01-01')),
						new Date(Date.parse('2014-04-01'))
					  ])
					  .range([0, 300]);
			
			x(new Date(Date.parse('2014-02-01')));
			
			var xAxis = d3.svg.axis()
							  .scale(x)			// x is the d3.time.scale()
							  .orient('bottom') // the ticks go below the graph
							  .ticks(4);		// specify number of ticks
			
			var svg = d3.select('body')
						.append('svg')			// create an svg element
						.attr('width', 300)		// specify classes
						.attr('height', 150);	// let the axis do its thing
						
			svg.append('g')				// create a g element
			   .attr('class', 'x axis') // specify classes
			   .call(xAxis);			// let the axis do its thing
		</script>
		
		<!-- Namespace creator -->
		<script>
		var namespace = {
			initializePage:function(){
				var par1 = document.getElementById("par1");
				par1.style.color = 'blue'
			}
		};
		</script>
		
		<!-- Page initializer -->
		<script>
			$(namespace.initializePage)
		</script>
    </body>
</html>